<div align="center">

# [![PongHub](imgs/band.png)](https://health.ch3nyang.top)

ğŸŒ [Live Demo](https://health.ch3nyang.top) | ğŸ“– [English](README.md)

</div>

## ç®€ä»‹

PongHub æ˜¯ä¸€ä¸ªå¼€æºçš„æœåŠ¡çŠ¶æ€ç›‘æ§ç½‘ç«™ï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·ç›‘æ§å’ŒéªŒè¯æœåŠ¡çš„å¯ç”¨æ€§ã€‚å®ƒæ”¯æŒ

- **ğŸ•µï¸ é›¶ä¾µå…¥ç›‘æ§** - æ— éœ€æ”¹åŠ¨ä»£ç å³å¯å®ç°å…¨åŠŸèƒ½ç›‘æ§
- **ğŸš€ ä¸€é”®éƒ¨ç½²** - é€šè¿‡ Actions è‡ªåŠ¨æ„å»ºï¼Œä¸€é”®éƒ¨ç½²è‡³ Github Pages
- **ğŸŒ å…¨å¹³å°æ”¯æŒ** - å…¼å®¹ OpenAI ç­‰å…¬å…±æœåŠ¡åŠç§æœ‰åŒ–éƒ¨ç½²
- **ğŸ” å¤šç«¯å£æ¢æµ‹** - å•æœåŠ¡æ”¯æŒåŒæ—¶ç›‘æ§å¤šä¸ªç«¯å£çŠ¶æ€
- **ğŸ¤– æ™ºèƒ½å“åº”éªŒè¯** - ç²¾å‡†åŒ¹é…çŠ¶æ€ç åŠæ­£åˆ™è¡¨è¾¾å¼æ ¡éªŒå“åº”ä½“
- **ğŸ› ï¸ è‡ªå®šä¹‰è¯·æ±‚å¼•æ“** - è‡ªç”±é…ç½®è¯·æ±‚å¤´/ä½“ã€è¶…æ—¶å’Œé‡è¯•ç­–ç•¥
- **ğŸ”’ SSL è¯ä¹¦ç›‘æ§** - è‡ªåŠ¨æ£€æµ‹ SSL è¯ä¹¦è¿‡æœŸå¹¶å‘é€é€šçŸ¥
- **ğŸ“Š å®æ—¶çŠ¶æ€å±•ç¤º** - ç›´è§‚çš„æœåŠ¡å“åº”æ—¶é—´ã€å“åº”çŠ¶æ€è®°å½•
- **âš ï¸ å¼‚å¸¸å‘Šè­¦é€šçŸ¥** - åˆ©ç”¨ GitHub Actions å®ç°å¼‚å¸¸å‘Šè­¦é€šçŸ¥

![æµè§ˆå™¨æˆªå›¾](imgs/browser_CN.png)

## å¿«é€Ÿå¼€å§‹

1. Star å¹¶ Fork [PongHub](https://github.com/WCY-dt/ponghub)

2. ä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„ [`config.yaml`](config.yaml) æ–‡ä»¶ï¼Œé…ç½®ä½ çš„æœåŠ¡æ£€æŸ¥é¡¹

3. ä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„ [`CNAME`](CNAME) æ–‡ä»¶ï¼Œé…ç½®ä½ çš„è‡ªå®šä¹‰åŸŸå

   > å¦‚æœä½ ä¸éœ€è¦è‡ªå®šä¹‰åŸŸåï¼Œè¯·åˆ é™¤ `CNAME` æ–‡ä»¶

4. æäº¤ä¿®æ”¹å¹¶æ¨é€åˆ°ä½ çš„ä»“åº“ï¼ŒGitHub Actions å°†è‡ªåŠ¨æ›´æ–°ï¼Œæ— éœ€å¹²é¢„

> [!TIP]
> é»˜è®¤æƒ…å†µä¸‹ï¼ŒGitHub Actions æ¯ 30 åˆ†é’Ÿè¿è¡Œä¸€æ¬¡ã€‚å¦‚æœä½ éœ€è¦æ›´æ”¹è¿è¡Œé¢‘ç‡ï¼Œè¯·ä¿®æ”¹ [`.github/workflows/deploy.yml`](.github/workflows/deploy.yml) æ–‡ä»¶ä¸­çš„ `cron` è¡¨è¾¾å¼ã€‚
> 
> è¯·ä¸è¦å°†é¢‘ç‡è®¾ç½®è¿‡é«˜ï¼Œä»¥å…è§¦å‘ GitHub çš„é™åˆ¶ã€‚

> [!IMPORTANT]
> å¦‚æœ GitHub Actions æœªæ­£å¸¸è‡ªåŠ¨è§¦å‘ï¼Œæ‰‹åŠ¨è§¦å‘ä¸€æ¬¡å³å¯ã€‚
> 
> è¯·æ³¨æ„æ‰“å¼€ GitHub Pagesï¼Œå¹¶å¼€å¯ GitHub Actions çš„é€šçŸ¥æƒé™ã€‚

## é…ç½®è¯´æ˜

### åŸºæœ¬é…ç½®

é…ç½®æ–‡ä»¶ `config.yaml` çš„æ ¼å¼å¦‚ä¸‹ï¼š

| å­—æ®µ                                  | ç±»å‹  | æè¿°                        | å¿…å¡« | å¤‡æ³¨                             |
|-------------------------------------|-----|---------------------------|----|--------------------------------|
| `timeout`                           | æ•´æ•°  | æ¯æ¬¡è¯·æ±‚çš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’            | âœ–ï¸ | å•ä½ä¸ºç§’ï¼Œé»˜è®¤ 5 ç§’                    |
| `max_retry_times`                   | æ•´æ•°  | è¯·æ±‚å¤±è´¥æ—¶çš„é‡è¯•æ¬¡æ•°                | âœ–ï¸ | é»˜è®¤ 2 æ¬¡                         |
| `max_log_days`                      | æ•´æ•°  | æ—¥å¿—ä¿ç•™å¤©æ•°ï¼Œè¶…è¿‡æ­¤å¤©æ•°çš„æ—¥å¿—å°†è¢«åˆ é™¤       | âœ–ï¸ | é»˜è®¤ 3 å¤©                         |
| `cert_notify_days`                  | æ•´æ•°  | SSL è¯ä¹¦è¿‡æœŸå‰é€šçŸ¥çš„å¤©æ•°            | âœ–ï¸ | é»˜è®¤ 7 å¤©                         |
| `services`                          | æ•°ç»„  | æœåŠ¡åˆ—è¡¨                      | âœ”ï¸ |                                |
| `services.name`                     | å­—ç¬¦ä¸² | æœåŠ¡åç§°                      | âœ”ï¸ |                                |
| `services.endpoints`                | æ•°ç»„  | ç«¯å£åˆ—è¡¨                      | âœ”ï¸ |                                |
| `services.endpoints.url`            | å­—ç¬¦ä¸² | è¯·æ±‚çš„ URL                   | âœ”ï¸ |                                |
| `services.endpoints.method`         | å­—ç¬¦ä¸² | è¯·æ±‚çš„ HTTP æ–¹æ³•               | âœ–ï¸ | æ”¯æŒ `GET`/`POST`/`PUT`ï¼Œé»˜è®¤ `GET` |
| `services.endpoints.headers`        | å¯¹è±¡  | è¯·æ±‚å¤´å†…å®¹                     | âœ–ï¸ | é”®å€¼å¯¹å½¢å¼ï¼Œæ”¯æŒè‡ªå®šä¹‰è¯·æ±‚å¤´                 |
| `services.endpoints.body`           | å­—ç¬¦ä¸² | è¯·æ±‚ä½“å†…å®¹                     | âœ–ï¸ | ä»…åœ¨ `POST`/`PUT` è¯·æ±‚æ—¶ä½¿ç”¨          |
| `services.endpoints.status_code`    | æ•´æ•°  | å“åº”ä½“æœŸæœ›çš„ HTTP çŠ¶æ€ç ï¼ˆé»˜è®¤ `200`ï¼‰ | âœ–ï¸ | é»˜è®¤ `200`                       |
| `services.endpoints.response_regex` | å­—ç¬¦ä¸² | å“åº”ä½“å†…å®¹çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…             | âœ–ï¸ |                                |

ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼š

```yaml
timeout: 5
max_retry_times: 2
max_log_days: 3
cert_notify_days: 7
services:
  - name: "GitHub API"
    endpoints:
      - url: "https://api.github.com"
      - url: "https://api.github.com/repos/wcy-dt/ponghub"
        method: "GET"
        headers:
          Content-Type: application/json
          Authorization: Bearer your_token
        status_code: 200
        response_regex: "full_name"
  - name: "Example Website"
    endpoints:
      - url: "https://example.com/health"
        response_regex: "status"
      - url: "https://example.com/status"
        method: "POST"
        body: '{"key": "value"}'
```

### ç‰¹æ®Šå‚æ•°

ponghub ç°å·²æ”¯æŒå¼ºå¤§çš„å‚æ•°åŒ–é…ç½®åŠŸèƒ½ï¼Œå…è®¸åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨å¤šç§ç±»å‹çš„åŠ¨æ€å˜é‡ï¼Œè¿™äº›å˜é‡ä¼šåœ¨ç¨‹åºè¿è¡Œæ—¶å®æ—¶ç”Ÿæˆå’Œè§£æã€‚

#### ğŸ“… æ—¥æœŸæ—¶é—´å‚æ•°
ä½¿ç”¨ `{{%æ ¼å¼}}` æ ¼å¼å®šä¹‰æ—¥æœŸæ—¶é—´å‚æ•°ï¼š

- `{{%Y-%m-%d}}` - å½“å‰æ—¥æœŸï¼Œæ ¼å¼ï¼š2006-01-02ï¼ˆå¦‚ï¼š2025-09-22ï¼‰
- `{{%H:%M:%S}}` - å½“å‰æ—¶é—´ï¼Œæ ¼å¼ï¼š15:04:05ï¼ˆå¦‚ï¼š17:30:45ï¼‰
- `{{%s}}` - Unixæ—¶é—´æˆ³ï¼ˆå¦‚ï¼š1727859600ï¼‰
- `{{%Y}}` - å½“å‰å¹´ä»½ï¼ˆå¦‚ï¼š2025ï¼‰
- `{{%m}}` - å½“å‰æœˆä»½ï¼Œæ ¼å¼ï¼š01-12
- `{{%d}}` - å½“å‰æ—¥æœŸï¼Œæ ¼å¼ï¼š01-31
- `{{%H}}` - å½“å‰å°æ—¶ï¼Œæ ¼å¼ï¼š00-23
- `{{%M}}` - å½“å‰åˆ†é’Ÿï¼Œæ ¼å¼ï¼š00-59
- `{{%S}}` - å½“å‰ç§’æ•°ï¼Œæ ¼å¼ï¼š00-59
- `{{%B}}` - å®Œæ•´æœˆä»½åç§°ï¼ˆå¦‚ï¼šSeptemberï¼‰
- `{{%b}}` - ç®€çŸ­æœˆä»½åç§°ï¼ˆå¦‚ï¼šSepï¼‰
- `{{%A}}` - å®Œæ•´æ˜ŸæœŸåç§°ï¼ˆå¦‚ï¼šMondayï¼‰
- `{{%a}}` - ç®€çŸ­æ˜ŸæœŸåç§°ï¼ˆå¦‚ï¼šMonï¼‰

#### ğŸ² éšæœºæ•°å‚æ•°

- `{{rand}}` - ç”Ÿæˆ0-1000000èŒƒå›´çš„éšæœºæ•°
- `{{rand_int}}` - ç”Ÿæˆå¤§èŒƒå›´éšæœºæ•´æ•°
- `{{rand(min,max)}}` - ç”ŸæˆæŒ‡å®šèŒƒå›´çš„éšæœºæ•°
    - ç¤ºä¾‹ï¼š`{{rand(1,100)}}` - ç”Ÿæˆ1-100ä¹‹é—´çš„éšæœºæ•°
    - ç¤ºä¾‹ï¼š`{{rand(1000,9999)}}` - ç”Ÿæˆ4ä½éšæœºæ•°

#### ğŸ”¤ éšæœºå­—ç¬¦ä¸²å‚æ•°

- `{{rand_str}}` - ç”Ÿæˆ8ä½éšæœºå­—ç¬¦ä¸²ï¼ˆå­—æ¯+æ•°å­—ï¼‰
- `{{rand_str(length)}}` - ç”ŸæˆæŒ‡å®šé•¿åº¦çš„éšæœºå­—ç¬¦ä¸²
    - ç¤ºä¾‹ï¼š`{{rand_str(16)}}` - ç”Ÿæˆ16ä½éšæœºå­—ç¬¦ä¸²
- `{{rand_str_secure}}` - ç”Ÿæˆ16ä½åŠ å¯†å®‰å…¨çš„éšæœºå­—ç¬¦ä¸²
- `{{rand_hex(length)}}` - ç”ŸæˆæŒ‡å®šé•¿åº¦çš„åå…­è¿›åˆ¶éšæœºå­—ç¬¦ä¸²
    - ç¤ºä¾‹ï¼š`{{rand_hex(8)}}` - ç”Ÿæˆ8ä½åå…­è¿›åˆ¶å­—ç¬¦ä¸²
    - ç¤ºä¾‹ï¼š`{{rand_hex(32)}}` - ç”Ÿæˆ32ä½åå…­è¿›åˆ¶å­—ç¬¦ä¸²

#### ğŸ†” UUIDå‚æ•°

- `{{uuid}}` - ç”Ÿæˆæ ‡å‡†UUIDï¼ˆå¸¦è¿å­—ç¬¦ï¼‰
    - ç¤ºä¾‹ï¼š`bf3655f7-8a93-4822-a458-2913a6fe4722`
- `{{uuid_short}}` - ç”ŸæˆçŸ­UUIDï¼ˆæ— è¿å­—ç¬¦ï¼‰
    - ç¤ºä¾‹ï¼š`14d44b7334014484bb81b015fb2401bf`

#### ğŸŒ ç¯å¢ƒå˜é‡å‚æ•°

- `{{env(å˜é‡å)}}` - è¯»å–ç¯å¢ƒå˜é‡çš„å€¼
    - ç¤ºä¾‹ï¼š`{{env(API_KEY)}}` - è¯»å–API_KEYç¯å¢ƒå˜é‡
    - ç¤ºä¾‹ï¼š`{{env(VERSION)}}` - è¯»å–VERSIONç¯å¢ƒå˜é‡
    - å¦‚æœç¯å¢ƒå˜é‡ä¸å­˜åœ¨ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²

ç¯å¢ƒå˜é‡å¯é€šè¿‡ GitHub Actions çš„ Repository Secrets è®¾ç½®

#### ğŸ“Š åºåˆ—å·å’Œå“ˆå¸Œå‚æ•°

- `{{seq}}` - åŸºäºå½“å‰æ—¶é—´çš„åºåˆ—å·ï¼ˆ6ä½æ•°å­—ï¼‰
- `{{seq_daily}}` - æ¯æ—¥åºåˆ—å·ï¼ˆè‡ªåˆå¤œèµ·çš„ç§’æ•°ï¼‰
- `{{hash_short}}` - çŸ­å“ˆå¸Œå€¼ï¼ˆ6ä½åå…­è¿›åˆ¶ï¼‰
- `{{hash_md5_like}}` - MD5é£æ ¼çš„é•¿å“ˆå¸Œå€¼ï¼ˆ32ä½åå…­è¿›åˆ¶ï¼‰

ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼š

```yaml
services:
  - name: "Parameterized Service"
    endpoints:
        - url: "https://api.example.com/data?date={{%Y-%m-%d}}&rand={{rand(1,100)}}"
        - url: "https://api.example.com/submit"
          method: "POST"
          headers:
            Content-Type: application/json
            X-Request-ID: "{{uuid}}"
          body: '{"session_id": "{{rand_str(16)}}", "timestamp": "{{%s}}"}'
```

### è‡ªå®šä¹‰é€šçŸ¥

PongHub é»˜è®¤åˆ©ç”¨ GitHub Actions æŠ¥é”™å®ç°å¼‚å¸¸å‘Šè­¦é€šçŸ¥ã€‚

å¦‚æœéœ€è¦è‡ªå®šä¹‰é€šçŸ¥ï¼Œå¯ä»¥åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º `notify.sh` è„šæœ¬ï¼Œè„šæœ¬å¯ä»¥è¯»å– `data/notify.txt` æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œå¹¶é€šè¿‡é‚®ä»¶ã€çŸ­ä¿¡æˆ–å…¶ä»–æ–¹å¼å‘é€é€šçŸ¥ã€‚å¦‚æœè„šæœ¬ä½¿ç”¨åˆ°äº†ç¯å¢ƒå˜é‡ï¼Œè¯·ç¡®ä¿åœ¨ GitHub ä»“åº“çš„ "Settings" -> "Secrets and variables" -> "Actions" ä¸­æ­£ç¡®è®¾ç½®è¿™äº›å˜é‡ã€‚

## æœ¬åœ°å¼€å‘

æœ¬é¡¹ç›®ä½¿ç”¨ Makefile è¿›è¡Œæœ¬åœ°å¼€å‘å’Œæµ‹è¯•ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨æœ¬åœ°è¿è¡Œé¡¹ç›®ï¼š

```bash
make run
```

## å…è´£å£°æ˜

[PongHub](https://github.com/WCY-dt/ponghub) ä»…ç”¨äºä¸ªäººå­¦ä¹ å’Œç ”ç©¶ï¼Œä¸å¯¹ç¨‹åºçš„ä½¿ç”¨è¡Œä¸ºæˆ–ç»“æœè´Ÿè´£ã€‚è¯·å‹¿å°†å…¶ç”¨äºå•†ä¸šç”¨é€”æˆ–éæ³•æ´»åŠ¨ã€‚
